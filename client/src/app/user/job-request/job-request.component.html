<div class="container col-6">
  <div class="row">
    <div class="col text-center">
        <label for="title" class="labelbig">Job request</label>
    </div>
  </div>
  <form [formGroup]='jobForm' (ngSubmit)="jobForm.valid && sendRequest()" autocomplete="off">

  <div class="form-group">
    <label for="title" class="label">Title</label>
    <input type="text" 
           class="form-control"
           formControlName="title"
           placeholder="Title"
           [ngClass]="{'is-invalid': jobForm.get('title').errors
              && jobForm.get('title').touched}">
    <div class="invalid-feedback">Please fill title field</div>
  </div>

  <div class="form-group">
    <label for="title" class="label">Description</label>
    <textarea
            formControlName="description"
            placeholder="Description"
            cols="30" 
            rows="5"
            class="form-control"
            style="background-color: white;"
            [ngClass]="{'is-invalid': jobForm.get('description').errors
            && jobForm.get('description').touched}"
            ></textarea>
            <div class="invalid-feedback">Please fill description field</div>
  </div>

  <div class="form-group">
    <label for="title" class="label">Job begin</label>
    <input type="text"
    [ngClass]="{'is-invalid': jobForm.get('workBegin').errors
        && jobForm.get('workBegin').touched}"
    class="form-control dateInput"
    formControlName="workBegin"
    placeholder="Work begin"
    bsDatepicker [bsConfig]="bsConfig"
    [bsConfig]="{dateInputFormat: 'YYYY-MM-DD'}"
    [minDate]='minDate'
    datepicker-custom>

    <div class="invalid-feedback"
    *ngIf="jobForm.get('workBegin').touched 
        && jobForm.get('workBegin').hasError('required')">
        Please enter a date of job begin</div>
  </div>

  <div class="form-group">
    <label for="title" class="label">Job end</label>
    <input type="text"
    [ngClass]="{'is-invalid': jobForm.get('workEnd').errors
        && jobForm.get('workEnd').touched}"
    class="form-control dateInput"
    formControlName="workEnd"
    placeholder="Work end"
    bsDatepicker [bsConfig]="bsConfig"
    [bsConfig]="{dateInputFormat: 'YYYY-MM-DD'}"
    [minDate]='this.jobForm.get("workBegin").value || minDate'
    datepicker-custom>

    <div class="invalid-feedback"
    *ngIf="jobForm.get('workEnd').touched 
        && jobForm.get('workEnd').hasError('required')">
        Please enter a date of Job end</div>
  </div>

  
  <form action="" autocomplete="off">
    <div class="form-group">
      <label for="title" class="label">Task title</label>
      <input type="text"
      name="title"
      [(ngModel)]="title"
      class="form-control"
      placeholder="Work task title">
    </div>
  
    <div class="form-group">
      <label for="title" class="label">Task description</label>
      <input type="text"
      name="description"
      [(ngModel)]="description"
      class="form-control"
      placeholder="Work task description">
    </div>
    <div class="col-md-12 text-right">
      <button class="btn btn-success mb-4" (click)="addWorkTask()">Add new task</button>
    </div>
  </form>
  <label for="title" class="label">Job tasks</label>
  <table class="table table-striped mt-4">
    <thead>
        <tr>
            <th style="width: 30%;">
                <div>
                    Task title
                </div>
            </th>
            <th style="width: 30%;">
              <div>
                  Task description
              </div>
          </th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let work of workTasks">
            <td>
              <div>
                  {{work.title}}
              </div>
            </td>
            <td>
              <div>
                {{work.description}}
              </div>
            </td>
        </tr>
    </tbody>
  </table>

  <div class="col-md-12 text-right">
    <button class="btn btn-success mb-4" [disabled]="!jobForm.valid" type="submit">Send request</button>
  </div>
</form>
</div>


<!-- <div class="container" fxLayout="column" fxLayoutAlign="center">

    <div fxFlex>
      <agm-map [latitude]="latitude" [longitude]="longitude" [scrollwheel]="false" [zoom]="zoom">
        <agm-marker [latitude]="latitude" [longitude]="longitude"></agm-marker>
      </agm-map>
    </div>
  
    <div fxFlex fxFlexAlign="center"
         class="autocomplete-container"
         [ngStyle.xs]="{'min-width.%': 100}"
         [ngStyle.sm]="{'width.%': 70}">
      <mat-google-maps-autocomplete (onAutocompleteSelected)="onAutocompleteSelected($event)"
                                    (onLocationSelected)="onLocationSelected($event)"
                                    (onGermanAddressMapped)="onGermanAddressMapped($event)">
      </mat-google-maps-autocomplete>
    </div>
  
  </div> -->